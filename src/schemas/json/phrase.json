{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://json.schemastore.org/phrase.json",
  "definitions": {
    "project_id": {
      "title": "Project ID",
      "description": "ID of the project, can be found in the project settings",
      "type": "string"
    },
    "file_format": {
      "title": "File format",
      "description": "File format name. See the format guide in the documentation for all supported file formats",
      "type": "string"
    },
    "locale_id": {
      "title": "Locale ID",
      "description": "Locale that should be downloaded. Locale ID or locale name are valid options",
      "type": "string"
    },
    "encoding": {
      "title": "Encoding",
      "description": "Enforces a specific encoding on the file contents. Valid options are \"UTF-8\", \"UTF-16\" and \"ISO-8859-1\"",
      "type": "string",
      "default": "UTF-8"
    },
    "format_options": {
      "title": "Format-specific options",
      "description": "Additional options available for specific formats. See corresponding format guide for the list",
      "type": "object"
    },
    "branch": {
      "title": "Branch name",
      "type": "string"
    },
    "translation_key_prefix": {
      "title": "Translation key prefix",
      "description": "Prefix that will be added to all translation keys upon push/pull. Use \"<file_name>\" to use the name of the file",
      "type": "string"
    }
  },
  "properties": {
    "phrase": {
      "description": "Root element of the Phrase config",
      "type": "object",
      "properties": {
        "host": {
          "description": "API URL. Set to https://api.us.app.phrase.com/v2 when using the US datacenter",
          "type": "string"
        },
        "access_token": {
          "description": "Access Token for authorization. Can be created in the user profile",
          "type": "string"
        },
        "file_format": {
          "$ref": "#/definitions/file_format"
        },
        "project_id": {
          "$ref": "#/definitions/project_id"
        },
        "push": {
          "type": "object",
          "properties": {
            "sources": {
              "description": "Source files that will be uploaded on push",
              "minItems": 1,
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "file"
                ],
                "properties": {
                  "file": {
                    "title": "File to be uploaded",
                    "description": "Path to the translation file(s). It can contain the placeholders: <locale_name>, <locale_code>, <tag>.",
                    "type": "string"
                  },
                  "params": {
                    "title": "Locale upload parameters",
                    "description": "For up-to-date list see the API documentation for the upload endpoint",
                    "type": "object",
                    "properties": {
                      "branch": {
                        "$ref": "#/definitions/branch"
                      },
                      "file_format": {
                        "$ref": "#/definitions/file_format"
                      },
                      "locale_id": {
                        "$ref": "#/definitions/locale_id"
                      },
                      "format_options": {
                        "$ref": "#/definitions/format_options"
                      },
                      "translation_key_prefix": {
                        "$ref": "#/definitions/translation_key_prefix"
                      },
                      "tags": {
                        "title": "Tags",
                        "description": "List of tags separated by comma to be associated with the new keys contained in the upload",
                        "type": "string"
                      },
                      "update_translations": {
                        "description": "Indicates whether existing translations should be updated with the file content",
                        "type": "boolean",
                        "default": false
                      },
                      "update_descriptions": {
                        "description": "Existing key descriptions will be updated with the file content. Empty descriptions overwrite existing descriptions",
                        "type": "boolean",
                        "default": false
                      },
                      "convert_emoji": {
                        "description": "Indicates whether the file contains Emoji symbols that should be converted",
                        "type": "boolean",
                        "deprecated": "Emojis are now supported natively",
                        "default": false
                      },
                      "skip_upload_tags": {
                        "description": "Indicates whether the upload should not create upload tags",
                        "type": "boolean",
                        "default": false
                      },
                      "skip_unverification": {
                        "description": "Indicates whether the upload should unverify updated translations",
                        "type": "boolean",
                        "default": false
                      },
                      "tag_only_affected_keys": {
                        "description": "Indicates whether only keys affected (created or updated) by the upload should be tagged",
                        "type": "boolean",
                        "default": false
                      },
                      "autotranslate": {
                        "description": "If set, translations for the uploaded language will be fetched automatically",
                        "type": "boolean",
                        "default": false
                      },
                      "mark_reviewed": {
                        "description": "Indicated whether the imported translations should be marked as reviewed",
                        "type": "boolean",
                        "default": false
                      },
                      "file_encoding": {
                        "$ref": "#/definitions/encoding"
                      },
                      "locale_mapping": {
                        "description": "Optional, format specific mapping between locale names and the columns the translations to those locales are contained in",
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "pull": {
          "type": "object",
          "properties": {
            "targets": {
              "description": "List of files that will be downloaded on pull",
              "minItems": 1,
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "file": {
                    "title": "File to be downloaded",
                    "description": "Path to the translation file(s). It can contain placeholders: <locale_name>, <locale_code>, <tag>.",
                    "type": "string"
                  },
                  "project_id": {
                    "$ref": "#/definitions/project_id"
                  },
                  "params": {
                    "title": "Locale download parameters",
                    "description": "For up-to-date list see the API documentation for the locale download endpoint",
                    "type": "object",
                    "properties": {
                      "branch": {
                        "$ref": "#/definitions/branch"
                      },
                      "file_format": {
                        "$ref": "#/definitions/file_format"
                      },
                      "encoding": {
                        "$ref": "#/definitions/encoding"
                      },
                      "locale_id": {
                        "$ref": "#/definitions/locale_id"
                      },
                      "format_options": {
                        "$ref": "#/definitions/format_options"
                      },
                      "translation_key_prefix": {
                        "$ref": "#/definitions/translation_key_prefix"
                      },
                      "tags": {
                        "title": "Tags",
                        "description": "Limit results to keys tagged with a list of comma separated tag names",
                        "type": "string"
                      },
                      "include_empty_translations": {
                        "description": "Indicates whether keys without translations should be included in the output as well",
                        "type": "boolean",
                        "default": false
                      },
                      "exclude_empty_zero_forms": {
                        "description": "Indicates whether the upload should exclude empty zero forms",
                        "type": "boolean",
                        "default": false
                      },
                      "include_translated_keys": {
                        "description": "Include translated keys in the locale file. Use in combination with include_empty_translations to obtain only untranslated keys",
                        "type": "boolean",
                        "default": true
                      },
                      "keep_notranslate_tags": {
                        "description": "Indicates whether [NOTRANSLATE] tags should be kept",
                        "type": "boolean",
                        "default": false
                      },
                      "include_unverified_translations": {
                        "description": "Indicates whether unverified translations should be included in the locale file",
                        "type": "boolean",
                        "default": true
                      },
                      "convert_emoji": {
                        "description": "Indicates whether Emoji symbols should be converted to actual Emojis",
                        "type": "boolean",
                        "deprecated": "Emojis are now supported natively",
                        "default": false
                      },
                      "skip_unverified_translations": {
                        "description": "Indicates whether the locale file should skip all unverified translations",
                        "type": "boolean",
                        "deprecated": "Should be replaced with include_unverified_translations",
                        "default": false
                      },
                      "use_last_reviewed_version": {
                        "description": "If set to true the last reviewed version of a translation is used. This is only available if the review workflow is enabled for the project",
                        "type": "boolean",
                        "default": false
                      },
                      "fallback_locale_id": {
                        "description": "If a key has no translation in the locale being downloaded the translation in the fallback locale will be used. Provide the public ID of the locale that should be used as the fallback. Requires include_empty_translations to be set to true",
                        "type": "string"
                      },
                      "custom_metadata_filters": {
                        "title": "Custom metadata filters",
                        "description": "Provide the name of the metadata field and the value to filter by. Only keys with matching metadata will be included in the download",
                        "type": "object"
                      },
                      "use_translation_key_prefix_as_filter": {
                        "description": "If true, only keys with the specified translation key prefix will be included in the download",
                        "type": "boolean",
                        "default": false
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "title": "JSON schema for Phrase configuration files"
}
